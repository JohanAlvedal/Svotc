type: grid
cards:
  - type: entities
    title: üéõÔ∏è SVOTC Kontroller
    state_color: true
    show_header_toggle: false
    entities:
      - entity: input_select.svotc_mode
        name: Driftsl√§ge
        icon: mdi:toggle-switch
      - type: section
        label: Komfortinst√§llningar
      - entity: input_number.svotc_comfort_temperature
        name: M√•ltemperatur
        icon: mdi:target
      - entity: input_number.svotc_comfort_guard_activate_below_c
        name: Skydd vid (under m√•l)
        icon: mdi:shield-alert
      - entity: input_number.svotc_comfort_guard_deactivate_above_c
        name: Skydd vid (√∂ver m√•l)
        icon: mdi:shield-check
      - type: section
        label: Prisoptimering
      - entity: input_number.svotc_brake_aggressiveness
        name: Broms (0-5)
        icon: mdi:speedometer-slow
      - entity: input_number.svotc_heat_aggressiveness
        name: V√§rme (0-5)
        icon: mdi:fire
      - entity: input_number.svotc_brake_hold_offset_c
        name: Max bromsoffset (¬∞C)
        icon: mdi:thermometer-minus
      - entity: input_boolean.svotc_comfort_guard_enabled
  - type: custom:mini-graph-card
    name: üìà Offset-utveckling (24h)
    hours_to_show: 24
    points_per_hour: 4
    line_width: 3
    font_size: 75
    animate: true
    show:
      labels: true
      legend: true
      icon: false
    entities:
      - entity: input_number.svotc_requested_offset_c
        name: Beg√§rd offset
        color: "#f39c12"
        show_state: true
      - entity: input_number.svotc_applied_offset_c
        name: Till√§mpad offset
        color: "#e67e22"
        show_state: true
  - type: custom:mini-graph-card
    name: üå°Ô∏è Temperatur√∂versikt (24h)
    hours_to_show: 24
    points_per_hour: 4
    line_width: 2
    font_size: 75
    animate: true
    show:
      labels: true
      legend: true
      icon: false
    entities:
      - entity: sensor.svotc_src_outdoor
        name: Utomhus (verklig)
        color: "#3498db"
        show_state: true
      - entity: sensor.svotc_virtual_outdoor_temperature
        name: Virtuell ute (‚ÜíVP)
        color: "#9b59b6"
        show_state: true
  - type: custom:mini-graph-card
    name: üíµ Elpris (24h)
    hours_to_show: 24
    points_per_hour: 4
    line_width: 2
    font_size: 75
    animate: true
    show:
      labels: true
      legend: true
      icon: false
    entities:
      - entity: sensor.nordpool_official
        name: Elpris
        color: "#3498db"
        show_state: true
  - type: horizontal-stack
    cards:
      - type: entity
        entity: input_select.svotc_mode
        name: SVOTC L√§ge
        icon: mdi:power
      - type: entity
        entity: binary_sensor.svotc_inputs_healthy
        name: System OK
        icon: mdi:heart-pulse
  - type: horizontal-stack
    cards:
      - type: entity
        entity: binary_sensor.svotc_comfort_guard_active
        name: Komfortskydd
        icon: mdi:shield-home
      - type: entity
        entity: input_text.svotc_reason_code
        name: Strategi
        icon: mdi:brain
  - type: entities
    title: üî¨ Diagnostik
    state_color: true
    show_header_toggle: false
    entities:
      - type: section
        label: Systemh√§lsa
      - entity: binary_sensor.svotc_inputs_healthy
        name: Temperatursensorer OK
        icon: mdi:thermometer-check
      - entity: binary_sensor.svotc_price_available
        name: Prisdata tillg√§nglig
        icon: mdi:cash-check
      - type: section
        label: Timing
      - entity: sensor.svotc_minutes_to_next_brake_start
        name: Minuter till n√§sta dyr period
        icon: mdi:timer-outline
      - entity: sensor.svotc_prebrake_window_min
        name: F√∂rbromsf√∂nster (min)
        icon: mdi:window-open
      - type: section
        label: Prisstatus (fl√∂de)
      - entity: sensor.svotc_raw_price_state
        name: R√•prisstatus (direkt)
        icon: mdi:flash
column_span: 1
